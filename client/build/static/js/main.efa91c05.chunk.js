(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{53:function(e,t,a){e.exports=a(84)},58:function(e,t,a){},59:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),c=(a(58),a(5)),i=a(6),s=a(8),u=a(7),m=a(9),p=(a(59),a(17)),d=a(12),h=a.n(d),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:"",labels:[],textResults:[],webResults:[],loading:!0},a.getData=function(){var e=a.props.match.params.id;h.a.get("".concat("https://photoshops-app.herokuapp.com/","/googleApi/search/").concat(e),{withCredentials:!0}).then((function(e){console.log("axios.get, then(res) -> res.data",e.data);var t=e.data,n=t.imageUrl,r=t.labels,l=t.textResults,o=t.webResults;a.setState({imageUrl:n,labels:r,textResults:l,webResults:o,loading:!1},(function(){console.log("this.state from DRAG AND DROP",a.state)}))}))},a.componentDidMount=function(){a.getData()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading&&r.a.createElement("h2",null,"Loading ...."))}}]),t}(n.Component),g=function(e){return h.a.post("/googleApi",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=function(e){return h.a.post("/googleApi/upload",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:"",uploadOn:!1},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),g(t).then(a.setState({uploadOn:!0})).then((function(e){a.setState({imageUrl:e.secure_url,uploadOn:!1},(function(){return console.log("this.state.imageUrl in handleUpload fc:",a.state.imageUrl)}))})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.handleSubmit=function(e){e.preventDefault(),a.state.uploadOn||v(a.state).then((function(e){a.props.history.push("/search/".concat(e._id))})).catch((function(e){console.log("Error while adding the thing: ",e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement("img",{src:this.state.imageUrl,style:{height:"200px"}}),r.a.createElement("h1",null,"Is this your final image?"));return r.a.createElement("div",null,r.a.createElement("h2",{className:"header-upload"},"Upload your picture"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"col-lg col-sm col-12"},r.a.createElement("label",{className:"btn btn-file btn-dark"},"Browse",r.a.createElement("input",{className:"input-field",type:"file",onChange:function(t){return e.handleFileUpload(t)}}))),this.state.uploadOn&&r.a.createElement("h3",null,"Loading..."),this.state.imageUrl&&r.a.createElement("button",{type:"submit",disabled:this.state.uploadOn},"Save new thing")),this.state.imageUrl&&t)}}]),t}(n.Component),E=a(88),w=a(19),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{collapseOnSelect:!0,className:"navbar navbar-default",fixed:"top",expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(E.a.Brand,{href:"/"},"Photoshops"),r.a.createElement(E.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(E.a,{className:"navbar-nav ml-auto"},r.a.createElement(w.b,{className:"nav-item nav-link active pr-2",to:"/signup"},"Sign up"),r.a.createElement(w.b,{className:"nav-item nav-link active pr-2",to:"/login"},"Login"),r.a.createElement(w.b,{className:"nav-item nav-link active pr-2",to:"/about"},"About"))))}}]),t}(n.Component),y=a(30),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],err:"",keywords:a.props.data},a.componentDidMount=function(){console.log("component mounting");var e=a.state.keywords;h.a.post("/products/test",{keywords:e}).then((function(e){console.log(e.data);var t=e.data.results.map((function(e){var t={};return t.title=e.title,t.image=e.image,t.price=e.price,t.num_reviews=e.num_reviews,t.stars=e.stars,t.product_id=e.product_id,t}));a.setState({posts:t}),console.log(t)})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.posts,a=e.err,n=t.title&&t.title.split(" ").join("-"),l="".concat("http://amazon.com","/").concat(n,"/dp/");return r.a.createElement("div",null,"List of Products",t.length?t.map((function(e){return r.a.createElement("div",{key:e.product_id},r.a.createElement("a",{href:l+e.product_id},r.a.createElement("div",null,r.a.createElement("img",{src:e.image,alt:"product pic"}),r.a.createElement("h1",null,e.title))),"--- $",e.price/100," --- Star Rating: ",e.stars," --- Number of Reviews: ",e.num_reviews," ---",e.product_id," ---")})):null,a?r.a.createElement("div",null,a):null)}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={labels:[],textResults:"",webResults:[],imageUrl:"",cleanData:[],newKeyword:"",submit:!1},a.getData=function(){var e=a.props.match.params.id;h.a.get("".concat("https://photoshops-app.herokuapp.com/","/googleApi/search/").concat(e),{withCredentials:!0}).then((function(e){a.setState({labels:e.data.labels,textResults:e.data.textResults,webResults:e.data.webResults,imageUrl:e.data.imageUrl},(function(){return a.cleaData()}))})).catch((function(e){console.log(e)}))},a.cleaData=function(){var e=a.state,t=e.labels,n=e.textResults,r=e.webResults,l=t.concat(r),o=(n||"").split(" "),c=[];for(var i in l){var s=l[i];c.push(s)}var u=function(e,t){var a={};return e.filter((function(e){var n=t(e);return!a.hasOwnProperty(n)&&(a[n]=!0)}))}([].concat(c,Object(y.a)(o)),JSON.stringify).filter((function(e){return""!==e}));a.setState({cleanData:u},(function(){return console.log(u)}))},a.handleSubmit=function(e){e.preventDefault(),a.setState({submit:!0}),console.log(a.cleaData)},a.triggerDelete=function(e,t){var n=Object(y.a)(a.state.cleanData);n.splice(t,1),a.setState({cleanData:n})},a.handleChange=function(e){a.setState({newKeyword:e.target.value})},a.triggerAdd=function(e){a.setState((function(e){return{cleanData:[].concat(Object(y.a)(e.cleanData),["".concat(a.state.newKeyword)]),newKeyword:""}}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.imageUrl,n=t.cleanData;return t.submit?r.a.createElement("div",null,r.a.createElement(j,{data:n})):r.a.createElement("div",{className:"Container"},r.a.createElement("div",{className:"FormKeyWords"},r.a.createElement("form",{onSubmit:this.handleSubmit},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,this.state.cleanData.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:a},Object.values(t),r.a.createElement("button",{variant:"danger",onClick:function(n){n.preventDefault(),e.triggerDelete(t,a)}},r.a.createElement("span",null,"\u274c"))))}))),r.a.createElement("input",{type:"text",name:"newKeyword",id:"newKeyword",value:this.state.newKeyword,onChange:this.handleChange}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.triggerAdd(n)}},"ADD"),r.a.createElement("button",{type:"submit"},"Search Amazon"))),r.a.createElement("div",null)))}}]),t}(n.Component),k=a(26),S=function(e,t){return h.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},U=function(e,t){return h.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},C=(n.Component,a(87)),R=a(89),A=a(86),x=(n.Component,function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(b,Object.assign({},e,{className:"class-home"}))}}),r.a.createElement(p.a,{exact:!0,path:"/search/:id",render:function(e){return r.a.createElement(f,e)}}),r.a.createElement(p.a,{exact:!0,path:"/search/:id",render:function(e){return r.a.createElement(D,e)}}))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w.a,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.efa91c05.chunk.js.map